<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

	<p:dialog header="#{msg['bug.create']}" widgetVar="bugAddDialog"
		resizable="false" modal="true" showEffect="clip" hideEffect="fold"
		height="440" width="456">

		<h:form>

		<h:panelGrid id="addBug" columns="2" cellpadding="5">
					<p:outputLabel value="#{msg['bug.title']}" />
					<p:inputText id="title" required="true"
						requiredMessage="#{msg['error.emptytitle']}"
						value="#{bugBean.newBug.title}"></p:inputText>
					<p:message for="title" />


					<p:outputLabel value="#{msg['bug.description']}" />
					<p:inputText id="description" required="true"
						requiredMessage="#{msg['error.emptydescription']}"
						value="#{bugBean.newBug.description}"></p:inputText>
					<p:message for="description" />

					<p:outputLabel value="#{msg['bug.targetDate']}"></p:outputLabel>
					<p:calendar value="#{bugBean.newBug.targetDate}" />

					<p:outputLabel value="#{msg['bug.severity']}"></p:outputLabel>
					<p:selectOneMenu value="#{bugBean.newBug.severity}"
						style="width:90px">

						
						<f:selectItems value="#{bugBean.severityList}" var="severities"
							itemLabel="#{msg['bug.severity.' += severities]}" />

						<p:ajax event="change" update="@this"></p:ajax>

					</p:selectOneMenu>

					<p:outputLabel value="#{msg['bug.status']}"></p:outputLabel>
					<p:selectOneMenu value="#{bugBean.newBug.status}"
						style="width:90px">

						<f:selectItem value="#{null}"
							itemLabel="#{msg['bug.search.selectone']}"></f:selectItem>
						<f:selectItems value="#{bugBean.statusList}" var="statuses"
							itemLabel="#{msg['bug.status.' += statuses]}" />

						<p:ajax event="change" update="@this"></p:ajax>

					</p:selectOneMenu>


					<p:outputLabel value="#{msg['bug.assigned']}"></p:outputLabel>
					<f:view>
						<p:autoComplete value="#{bugBean.assignedUser}"
							completeMethod="#{userListBean.complete}" var="user"
							itemLabel="#{user.username}" itemValue="#{user}"
							converter="#{userConverter}" forceSelection="true">
						</p:autoComplete>
					</f:view>

					<p:outputLabel value="#{msg['bug.version']}" />


					<p:inputText id="version" required="true"
						requiredMessage="#{msg['error.emptyversion']}"
						value="#{bugBean.newBug.version}"></p:inputText>
					<p:message for="version" />

					<p:outputLabel value="#{msg['bug.fixedIn']}" />
					<p:inputText value="#{bugBean.newBug.fixedIn}"></p:inputText>

					<!-- 
				<p:outputLabel value="#{msg['bug.attechment']}" />
				<p:inputText value="#{bugBean.newBug.attachment}"></p:inputText>
 -->
					<h:commandButton value="#{msg['bug.create']}"
						action="#{bugBean.createNewBug}" update="addBug"></h:commandButton>

				</h:panelGrid>
		</h:form>

	</p:dialog>

</ui:composition>